var Proj4js={defaultDatum:"WGS84",transform:function(d,b,a){if(!d.readyToUse){this.reportError("Proj4js initialization for:"+d.srsCode+" not yet complete");return a}if(!b.readyToUse){this.reportError("Proj4js initialization for:"+b.srsCode+" not yet complete");return a}if(d.datum&&b.datum&&(((d.datum.datum_type==Proj4js.common.PJD_3PARAM||d.datum.datum_type==Proj4js.common.PJD_7PARAM)&&b.datumCode!="WGS84")||((b.datum.datum_type==Proj4js.common.PJD_3PARAM||b.datum.datum_type==Proj4js.common.PJD_7PARAM)&&d.datumCode!="WGS84"))){var c=Proj4js.WGS84;this.transform(d,c,a);d=c}if(d.axis!="enu"){this.adjust_axis(d,false,a)}if(d.projName=="longlat"){a.x*=Proj4js.common.D2R;a.y*=Proj4js.common.D2R}else{if(d.to_meter){a.x*=d.to_meter;a.y*=d.to_meter}d.inverse(a)}if(d.from_greenwich){a.x+=d.from_greenwich}a=this.datum_transform(d.datum,b.datum,a);if(b.from_greenwich){a.x-=b.from_greenwich}if(b.projName=="longlat"){a.x*=Proj4js.common.R2D;a.y*=Proj4js.common.R2D}else{b.forward(a);if(b.to_meter){a.x/=b.to_meter;a.y/=b.to_meter}}if(b.axis!="enu"){this.adjust_axis(b,true,a)}return a},datum_transform:function(c,b,a){if(c.compare_datums(b)){return a}if(c.datum_type==Proj4js.common.PJD_NODATUM||b.datum_type==Proj4js.common.PJD_NODATUM){return a}if(c.es!=b.es||c.a!=b.a||c.datum_type==Proj4js.common.PJD_3PARAM||c.datum_type==Proj4js.common.PJD_7PARAM||b.datum_type==Proj4js.common.PJD_3PARAM||b.datum_type==Proj4js.common.PJD_7PARAM){c.geodetic_to_geocentric(a);if(c.datum_type==Proj4js.common.PJD_3PARAM||c.datum_type==Proj4js.common.PJD_7PARAM){c.geocentric_to_wgs84(a)}if(b.datum_type==Proj4js.common.PJD_3PARAM||b.datum_type==Proj4js.common.PJD_7PARAM){b.geocentric_from_wgs84(a)}b.geocentric_to_geodetic(a)}return a},adjust_axis:function(e,g,d){var c=d.x,j=d.y,a=d.z||0;var f,h;for(var b=0;b<3;b++){if(g&&b==2&&d.z===undefined){continue}if(b==0){f=c;h="x"}else{if(b==1){f=j;h="y"}else{f=a;h="z"}}switch(e.axis[b]){case"e":d[h]=f;break;case"w":d[h]=-f;break;case"n":d[h]=f;break;case"s":d[h]=-f;break;case"u":if(d[h]!==undefined){d.z=f}break;case"d":if(d[h]!==undefined){d.z=-f}break;default:alert("ERROR: unknow axis ("+e.axis[b]+") - check definition of "+e.projName);return null}}return d},reportError:function(a){},extend:function(a,d){a=a||{};if(d){for(var c in d){var b=d[c];if(b!==undefined){a[c]=b}}}return a},Class:function(){var b=function(){this.initialize.apply(this,arguments)};var a={};var d;for(var c=0;c<arguments.length;++c){if(typeof arguments[c]=="function"){d=arguments[c].prototype}else{d=arguments[c]}Proj4js.extend(a,d)}b.prototype=a;return b},bind:function(c,b){var a=Array.prototype.slice.apply(arguments,[2]);return function(){var d=a.concat(Array.prototype.slice.apply(arguments,[0]));return c.apply(b,d)}},scriptName:"proj4js-combined.js",defsLookupService:"http://spatialreference.org/ref",libPath:null,getScriptLocation:function(){if(this.libPath){return this.libPath}var e=this.scriptName;var d=e.length;var a=document.getElementsByTagName("script");for(var c=0;c<a.length;c++){var f=a[c].getAttribute("src");if(f){var b=f.lastIndexOf(e);if((b>-1)&&(b+d==f.length)){this.libPath=f.slice(0,-d);break}}}return this.libPath||""},loadScript:function(d,e,c,a){var b=document.createElement("script");b.defer=false;b.type="text/javascript";b.id=d;b.src=d;b.onload=e;b.onerror=c;b.loadCheck=a;if(/MSIE/.test(navigator.userAgent)){b.onreadystatechange=this.checkReadyState}document.getElementsByTagName("head")[0].appendChild(b)},checkReadyState:function(){if(this.readyState=="loaded"){if(!this.loadCheck()){this.onerror()}else{this.onload()}}}};Proj4js.Proj=Proj4js.Class({readyToUse:false,title:null,projName:null,units:null,datum:null,x0:0,y0:0,localCS:false,queue:null,initialize:function(c,d){this.srsCodeInput=c;this.queue=[];if(d){this.queue.push(d)}if((c.indexOf("GEOGCS")>=0)||(c.indexOf("GEOCCS")>=0)||(c.indexOf("PROJCS")>=0)||(c.indexOf("LOCAL_CS")>=0)){this.parseWKT(c);this.deriveConstants();this.loadProjCode(this.projName);return}if(c.indexOf("urn:")==0){var a=c.split(":");if((a[1]=="ogc"||a[1]=="x-ogc")&&(a[2]=="def")&&(a[3]=="crs")){c=a[4]+":"+a[a.length-1]}}else{if(c.indexOf("http://")==0){var b=c.split("#");if(b[0].match(/epsg.org/)){c="EPSG:"+b[1]}else{if(b[0].match(/RIG.xml/)){c="IGNF:"+b[1]}}}}this.srsCode=c.toUpperCase();if(this.srsCode.indexOf("EPSG")==0){this.srsCode=this.srsCode;this.srsAuth="epsg";this.srsProjNumber=this.srsCode.substring(5)}else{if(this.srsCode.indexOf("IGNF")==0){this.srsCode=this.srsCode;this.srsAuth="IGNF";this.srsProjNumber=this.srsCode.substring(5)}else{if(this.srsCode.indexOf("CRS")==0){this.srsCode=this.srsCode;this.srsAuth="CRS";this.srsProjNumber=this.srsCode.substring(4)}else{this.srsAuth="";this.srsProjNumber=this.srsCode}}}this.loadProjDefinition()},loadProjDefinition:function(){if(Proj4js.defs[this.srsCode]){this.defsLoaded();return}var a=Proj4js.getScriptLocation()+"defs/"+this.srsAuth.toUpperCase()+this.srsProjNumber+".js";Proj4js.loadScript(a,Proj4js.bind(this.defsLoaded,this),Proj4js.bind(this.loadFromService,this),Proj4js.bind(this.checkDefsLoaded,this))},loadFromService:function(){var a=Proj4js.defsLookupService+"/"+this.srsAuth+"/"+this.srsProjNumber+"/proj4js/";Proj4js.loadScript(a,Proj4js.bind(this.defsLoaded,this),Proj4js.bind(this.defsFailed,this),Proj4js.bind(this.checkDefsLoaded,this))},defsLoaded:function(){this.parseDefs();this.loadProjCode(this.projName)},checkDefsLoaded:function(){if(Proj4js.defs[this.srsCode]){return true}else{return false}},defsFailed:function(){Proj4js.reportError("failed to load projection definition for: "+this.srsCode);Proj4js.defs[this.srsCode]=Proj4js.defs.WGS84;this.defsLoaded()},loadProjCode:function(b){if(Proj4js.Proj[b]){this.initTransforms();return}var a=Proj4js.getScriptLocation()+"projCode/"+b+".js";Proj4js.loadScript(a,Proj4js.bind(this.loadProjCodeSuccess,this,b),Proj4js.bind(this.loadProjCodeFailure,this,b),Proj4js.bind(this.checkCodeLoaded,this,b))},loadProjCodeSuccess:function(a){if(Proj4js.Proj[a].dependsOn){this.loadProjCode(Proj4js.Proj[a].dependsOn)}else{this.initTransforms()}},loadProjCodeFailure:function(a){Proj4js.reportError("failed to find projection file for: "+a)},checkCodeLoaded:function(a){if(Proj4js.Proj[a]){return true}else{return false}},initTransforms:function(){Proj4js.extend(this,Proj4js.Proj[this.projName]);this.init();this.readyToUse=true;if(this.queue){var a;while((a=this.queue.shift())){a.call(this,this)}}},wktRE:/^(\w+)\[(.*)\]$/,parseWKT:function(k){var h=k.match(this.wktRE);if(!h){return}var m=h[1];var l=h[2];var g=l.split(",");var o;if(m.toUpperCase()=="TOWGS84"){o=m}else{o=g.shift()}o=o.replace(/^\"/,"");o=o.replace(/\"$/,"");var n=new Array();var b=0;var f="";for(var e=0;e<g.length;++e){var c=g[e];for(var d=0;d<c.length;++d){if(c.charAt(d)=="["){++b}if(c.charAt(d)=="]"){--b}}f+=c;if(b===0){n.push(f);f=""}else{f+=","}}switch(m){case"LOCAL_CS":this.projName="identity";this.localCS=true;this.srsCode=o;break;case"GEOGCS":this.projName="longlat";this.geocsCode=o;if(!this.srsCode){this.srsCode=o}break;case"PROJCS":this.srsCode=o;break;case"GEOCCS":break;case"PROJECTION":this.projName=Proj4js.wktProjections[o];break;case"DATUM":this.datumName=o;break;case"LOCAL_DATUM":this.datumCode="none";break;case"SPHEROID":this.ellps=o;this.a=parseFloat(n.shift());this.rf=parseFloat(n.shift());break;case"PRIMEM":this.from_greenwich=parseFloat(n.shift());break;case"UNIT":this.units=o;this.unitsPerMeter=parseFloat(n.shift());break;case"PARAMETER":var a=o.toLowerCase();var p=parseFloat(n.shift());switch(a){case"false_easting":this.x0=p;break;case"false_northing":this.y0=p;break;case"scale_factor":this.k0=p;break;case"central_meridian":this.long0=p*Proj4js.common.D2R;break;case"latitude_of_origin":this.lat0=p*Proj4js.common.D2R;break;case"more_here":break;default:break}break;case"TOWGS84":this.datum_params=n;break;case"AXIS":var a=o.toLowerCase();var p=n.shift();switch(p){case"EAST":p="e";break;case"WEST":p="w";break;case"NORTH":p="n";break;case"SOUTH":p="s";break;case"UP":p="u";break;case"DOWN":p="d";break;case"OTHER":default:p=" ";break}if(!this.axis){this.axis="enu"}switch(a){case"x":this.axis=p+this.axis.substr(1,2);break;case"y":this.axis=this.axis.substr(0,1)+p+this.axis.substr(2,1);break;case"z":this.axis=this.axis.substr(0,2)+p;break;default:break}case"MORE_HERE":break;default:break}for(var e=0;e<n.length;++e){this.parseWKT(n[e])}},parseDefs:function(){this.defData=Proj4js.defs[this.srsCode];var e,b;if(!this.defData){return}var a=this.defData.split("+");for(var f=0;f<a.length;f++){var d=a[f].split("=");e=d[0].toLowerCase();b=d[1];switch(e.replace(/\s/gi,"")){case"":break;case"title":this.title=b;break;case"proj":this.projName=b.replace(/\s/gi,"");break;case"units":this.units=b.replace(/\s/gi,"");break;case"datum":this.datumCode=b.replace(/\s/gi,"");break;case"nadgrids":this.nagrids=b.replace(/\s/gi,"");break;case"ellps":this.ellps=b.replace(/\s/gi,"");break;case"a":this.a=parseFloat(b);break;case"b":this.b=parseFloat(b);break;case"rf":this.rf=parseFloat(b);break;case"lat_0":this.lat0=b*Proj4js.common.D2R;break;case"lat_1":this.lat1=b*Proj4js.common.D2R;break;case"lat_2":this.lat2=b*Proj4js.common.D2R;break;case"lat_ts":this.lat_ts=b*Proj4js.common.D2R;break;case"lon_0":this.long0=b*Proj4js.common.D2R;break;case"alpha":this.alpha=parseFloat(b)*Proj4js.common.D2R;break;case"lonc":this.longc=b*Proj4js.common.D2R;break;case"x_0":this.x0=parseFloat(b);break;case"y_0":this.y0=parseFloat(b);break;case"k_0":this.k0=parseFloat(b);break;case"k":this.k0=parseFloat(b);break;case"r_a":this.R_A=true;break;case"zone":this.zone=parseInt(b,10);break;case"south":this.utmSouth=true;break;case"towgs84":this.datum_params=b.split(",");break;case"to_meter":this.to_meter=parseFloat(b);break;case"from_greenwich":this.from_greenwich=b*Proj4js.common.D2R;break;case"pm":b=b.replace(/\s/gi,"");this.from_greenwich=Proj4js.PrimeMeridian[b]?Proj4js.PrimeMeridian[b]:parseFloat(b);this.from_greenwich*=Proj4js.common.D2R;break;case"axis":b=b.replace(/\s/gi,"");var c="ewnsud";if(b.length==3&&c.indexOf(b.substr(0,1))!=-1&&c.indexOf(b.substr(1,1))!=-1&&c.indexOf(b.substr(2,1))!=-1){this.axis=b}break;case"no_defs":break;default:}}this.deriveConstants()},deriveConstants:function(){if(this.nagrids=="@null"){this.datumCode="none"}if(this.datumCode&&this.datumCode!="none"){var a=Proj4js.Datum[this.datumCode];if(a){this.datum_params=a.towgs84?a.towgs84.split(","):null;this.ellps=a.ellipse;this.datumName=a.datumName?a.datumName:this.datumCode}}if(!this.a){var b=Proj4js.Ellipsoid[this.ellps]?Proj4js.Ellipsoid[this.ellps]:Proj4js.Ellipsoid.WGS84;Proj4js.extend(this,b)}if(this.rf&&!this.b){this.b=(1-1/this.rf)*this.a}if(this.rf===0||Math.abs(this.a-this.b)<Proj4js.common.EPSLN){this.sphere=true;this.b=this.a}this.a2=this.a*this.a;this.b2=this.b*this.b;this.es=(this.a2-this.b2)/this.a2;this.e=Math.sqrt(this.es);if(this.R_A){this.a*=1-this.es*(Proj4js.common.SIXTH+this.es*(Proj4js.common.RA4+this.es*Proj4js.common.RA6));this.a2=this.a*this.a;this.b2=this.b*this.b;this.es=0}this.ep2=(this.a2-this.b2)/this.b2;if(!this.k0){this.k0=1}if(!this.axis){this.axis="enu"}this.datum=new Proj4js.datum(this)}});Proj4js.Proj.longlat={init:function(){},forward:function(a){return a},inverse:function(a){return a}};Proj4js.Proj.identity=Proj4js.Proj.longlat;Proj4js.defs={WGS84:"+title=long/lat:WGS84 +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees","EPSG:4326":"+title=long/lat:WGS84 +proj=longlat +a=6378137.0 +b=6356752.31424518 +ellps=WGS84 +datum=WGS84 +units=degrees","EPSG:4269":"+title=long/lat:NAD83 +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees","EPSG:3875":"+title= Google Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"};Proj4js.defs["EPSG:3785"]=Proj4js.defs["EPSG:3875"];Proj4js.defs.GOOGLE=Proj4js.defs["EPSG:3875"];Proj4js.defs["EPSG:900913"]=Proj4js.defs["EPSG:3875"];Proj4js.defs["EPSG:102113"]=Proj4js.defs["EPSG:3875"];Proj4js.common={PI:3.141592653589793,HALF_PI:1.5707963267948966,TWO_PI:6.283185307179586,FORTPI:0.7853981633974483,R2D:57.29577951308232,D2R:0.017453292519943295,SEC_TO_RAD:0.00000484813681109536,EPSLN:1e-10,MAX_ITER:20,COS_67P5:0.3826834323650898,AD_C:1.0026,PJD_UNKNOWN:0,PJD_3PARAM:1,PJD_7PARAM:2,PJD_GRIDSHIFT:3,PJD_WGS84:4,PJD_NODATUM:5,SRS_WGS84_SEMIMAJOR:6378137,SIXTH:0.16666666666666666,RA4:0.04722222222222222,RA6:0.022156084656084655,RV4:0.06944444444444445,RV6:0.04243827160493827,msfnz:function(c,b,d){var a=c*b;return d/(Math.sqrt(1-a*a))},tsfnz:function(e,d,c){var a=e*c;var b=0.5*e;a=Math.pow(((1-a)/(1+a)),b);return(Math.tan(0.5*(this.HALF_PI-d))/a)},phi2z:function(g,f){var e=0.5*g;var a,b;var d=this.HALF_PI-2*Math.atan(f);for(var c=0;c<=15;c++){a=g*Math.sin(d);b=this.HALF_PI-2*Math.atan(f*(Math.pow(((1-a)/(1+a)),e)))-d;d+=b;if(Math.abs(b)<=1e-10){return d}}alert("phi2z has NoConvergence");return(-9999)},qsfnz:function(c,b){var a;if(c>1e-7){a=c*b;return((1-c*c)*(b/(1-a*a)-(0.5/c)*Math.log((1-a)/(1+a))))}else{return(2*b)}},asinz:function(a){if(Math.abs(a)>1){a=(a>1)?1:-1}return Math.asin(a)},e0fn:function(a){return(1-0.25*a*(1+a/16*(3+1.25*a)))},e1fn:function(a){return(0.375*a*(1+0.25*a*(1+0.46875*a)))},e2fn:function(a){return(0.05859375*a*a*(1+0.75*a))},e3fn:function(a){return(a*a*a*(35/3072))},mlfn:function(e,d,c,b,a){return(e*a-d*Math.sin(2*a)+c*Math.sin(4*a)-b*Math.sin(6*a))},srat:function(a,b){return(Math.pow((1-a)/(1+a),b))},sign:function(a){if(a<0){return(-1)}else{return(1)}},adjust_lon:function(a){a=(Math.abs(a)<this.PI)?a:(a-(this.sign(a)*this.TWO_PI));return a},adjust_lat:function(a){a=(Math.abs(a)<this.HALF_PI)?a:(a-(this.sign(a)*this.PI));return a},latiso:function(d,c,b){if(Math.abs(c)>this.HALF_PI){return +Number.NaN}if(c==this.HALF_PI){return Number.POSITIVE_INFINITY}if(c==-1*this.HALF_PI){return -1*Number.POSITIVE_INFINITY}var a=d*b;return Math.log(Math.tan((this.HALF_PI+c)/2))+d*Math.log((1-a)/(1+a))/2},fL:function(b,a){return 2*Math.atan(b*Math.exp(a))-this.HALF_PI},invlatiso:function(e,c){var b=this.fL(1,c);var d=0;var a=0;do{d=b;a=e*Math.sin(d);b=this.fL(Math.exp(e*Math.log((1+a)/(1-a))/2),c)}while(Math.abs(b-d)>1e-12);return b},sinh:function(a){var b=Math.exp(a);b=(b-1/b)/2;return b},cosh:function(a){var b=Math.exp(a);b=(b+1/b)/2;return b},tanh:function(a){var b=Math.exp(a);b=(b-1/b)/(b+1/b);return b},asinh:function(a){var b=(a>=0?1:-1);return b*(Math.log(Math.abs(a)+Math.sqrt(a*a+1)))},acosh:function(a){return 2*Math.log(Math.sqrt((a+1)/2)+Math.sqrt((a-1)/2))},atanh:function(a){return Math.log((a-1)/(a+1))/2},gN:function(b,f,d){var c=f*d;return b/Math.sqrt(1-c*c)},pj_enfn:function(c){var a=new Array();a[0]=this.C00-c*(this.C02+c*(this.C04+c*(this.C06+c*this.C08)));a[1]=c*(this.C22-c*(this.C04+c*(this.C06+c*this.C08)));var b=c*c;a[2]=b*(this.C44-c*(this.C46+c*this.C48));b*=c;a[3]=b*(this.C66-c*this.C68);a[4]=b*c*this.C88;return a},pj_mlfn:function(d,a,c,b){c*=a;a*=a;return(b[0]*d-c*(b[1]+a*(b[2]+a*(b[3]+a*b[4]))))},pj_inv_mlfn:function(a,h,c){var b=1/(1-h);var g=a;for(var e=Proj4js.common.MAX_ITER;e;--e){var f=Math.sin(g);var d=1-h*f*f;d=(this.pj_mlfn(g,f,Math.cos(g),c)-a)*(d*Math.sqrt(d))*b;g-=d;if(Math.abs(d)<Proj4js.common.EPSLN){return g}}Proj4js.reportError("cass:pj_inv_mlfn: Convergence error");return g},C00:1,C02:0.25,C04:0.046875,C06:0.01953125,C08:0.01068115234375,C22:0.75,C44:0.46875,C46:0.013020833333333334,C48:0.007120768229166667,C66:0.3645833333333333,C68:0.005696614583333333,C88:0.3076171875};Proj4js.datum=Proj4js.Class({initialize:function(b){this.datum_type=Proj4js.common.PJD_WGS84;if(b.datumCode&&b.datumCode=="none"){this.datum_type=Proj4js.common.PJD_NODATUM}if(b&&b.datum_params){for(var a=0;a<b.datum_params.length;a++){b.datum_params[a]=parseFloat(b.datum_params[a])}if(b.datum_params[0]!=0||b.datum_params[1]!=0||b.datum_params[2]!=0){this.datum_type=Proj4js.common.PJD_3PARAM}if(b.datum_params.length>3){if(b.datum_params[3]!=0||b.datum_params[4]!=0||b.datum_params[5]!=0||b.datum_params[6]!=0){this.datum_type=Proj4js.common.PJD_7PARAM;b.datum_params[3]*=Proj4js.common.SEC_TO_RAD;b.datum_params[4]*=Proj4js.common.SEC_TO_RAD;b.datum_params[5]*=Proj4js.common.SEC_TO_RAD;b.datum_params[6]=(b.datum_params[6]/1000000)+1}}}if(b){this.a=b.a;this.b=b.b;this.es=b.es;this.ep2=b.ep2;this.datum_params=b.datum_params}},compare_datums:function(a){if(this.datum_type!=a.datum_type){return false}else{if(this.a!=a.a||Math.abs(this.es-a.es)>5e-11){return false}else{if(this.datum_type==Proj4js.common.PJD_3PARAM){return(this.datum_params[0]==a.datum_params[0]&&this.datum_params[1]==a.datum_params[1]&&this.datum_params[2]==a.datum_params[2])}else{if(this.datum_type==Proj4js.common.PJD_7PARAM){return(this.datum_params[0]==a.datum_params[0]&&this.datum_params[1]==a.datum_params[1]&&this.datum_params[2]==a.datum_params[2]&&this.datum_params[3]==a.datum_params[3]&&this.datum_params[4]==a.datum_params[4]&&this.datum_params[5]==a.datum_params[5]&&this.datum_params[6]==a.datum_params[6])}else{if(this.datum_type==Proj4js.common.PJD_GRIDSHIFT||a.datum_type==Proj4js.common.PJD_GRIDSHIFT){alert("ERROR: Grid shift transformations are not implemented.");return false}else{return true}}}}}},geodetic_to_geocentric:function(c){var l=c.x;var h=c.y;var d=c.z?c.z:0;var e;var b;var a;var j=0;var k;var i;var g;var f;if(h<-Proj4js.common.HALF_PI&&h>-1.001*Proj4js.common.HALF_PI){h=-Proj4js.common.HALF_PI}else{if(h>Proj4js.common.HALF_PI&&h<1.001*Proj4js.common.HALF_PI){h=Proj4js.common.HALF_PI}else{if((h<-Proj4js.common.HALF_PI)||(h>Proj4js.common.HALF_PI)){Proj4js.reportError("geocent:lat out of range:"+h);return null}}}if(l>Proj4js.common.PI){l-=(2*Proj4js.common.PI)}i=Math.sin(h);f=Math.cos(h);g=i*i;k=this.a/(Math.sqrt(1-this.es*g));e=(k+d)*f*Math.cos(l);b=(k+d)*f*Math.sin(l);a=((k*(1-this.es))+d)*i;c.x=e;c.y=b;c.z=a;return j},geocentric_to_geodetic:function(t){var y=1e-12;var u=(y*y);var f=30;var l;var h;var a;var n;var b;var m;var k;var x;var w;var j;var r;var q;var e;var v;var g=t.x;var d=t.y;var c=t.z?t.z:0;var i;var s;var o;e=false;l=Math.sqrt(g*g+d*d);h=Math.sqrt(g*g+d*d+c*c);if(l/this.a<y){e=true;i=0;if(h/this.a<y){s=Proj4js.common.HALF_PI;o=-this.b;return}}else{i=Math.atan2(d,g)}a=c/h;n=l/h;b=1/Math.sqrt(1-this.es*(2-this.es)*n*n);x=n*(1-this.es)*b;w=a*b;v=0;do{v++;k=this.a/Math.sqrt(1-this.es*w*w);o=l*x+c*w-k*(1-this.es*w*w);m=this.es*k/(k+o);b=1/Math.sqrt(1-m*(2-m)*n*n);j=n*(1-m)*b;r=a*b;q=r*x-j*w;x=j;w=r}while(q*q>u&&v<f);s=Math.atan(r/Math.abs(j));t.x=i;t.y=s;t.z=o;return t},geocentric_to_geodetic_noniter:function(s){var d=s.x;var c=s.y;var a=s.z?s.z:0;var g;var r;var l;var e;var n;var q;var m;var j;var h;var i;var v;var f;var u;var t;var o;var k;var b;d=parseFloat(d);c=parseFloat(c);a=parseFloat(a);b=false;if(d!=0){g=Math.atan2(c,d)}else{if(c>0){g=Proj4js.common.HALF_PI}else{if(c<0){g=-Proj4js.common.HALF_PI}else{b=true;g=0;if(a>0){r=Proj4js.common.HALF_PI}else{if(a<0){r=-Proj4js.common.HALF_PI}else{r=Proj4js.common.HALF_PI;l=-this.b;return}}}}}n=d*d+c*c;e=Math.sqrt(n);q=a*Proj4js.common.AD_C;j=Math.sqrt(q*q+n);i=q/j;f=e/j;v=i*i*i;m=a+this.b*this.ep2*v;k=e-this.a*this.es*f*f*f;h=Math.sqrt(m*m+k*k);u=m/h;t=k/h;o=this.a/Math.sqrt(1-this.es*u*u);if(t>=Proj4js.common.COS_67P5){l=e/t-o}else{if(t<=-Proj4js.common.COS_67P5){l=e/-t-o}else{l=a/u+o*(this.es-1)}}if(b==false){r=Math.atan(u/t)}s.x=g;s.y=r;s.z=l;return s},geocentric_to_wgs84:function(b){if(this.datum_type==Proj4js.common.PJD_3PARAM){b.x+=this.datum_params[0];b.y+=this.datum_params[1];b.z+=this.datum_params[2]}else{if(this.datum_type==Proj4js.common.PJD_7PARAM){var f=this.datum_params[0];var d=this.datum_params[1];var i=this.datum_params[2];var e=this.datum_params[3];var j=this.datum_params[4];var h=this.datum_params[5];var g=this.datum_params[6];var c=g*(b.x-h*b.y+j*b.z)+f;var a=g*(h*b.x+b.y-e*b.z)+d;var k=g*(-j*b.x+e*b.y+b.z)+i;b.x=c;b.y=a;b.z=k}}},geocentric_from_wgs84:function(c){if(this.datum_type==Proj4js.common.PJD_3PARAM){c.x-=this.datum_params[0];c.y-=this.datum_params[1];c.z-=this.datum_params[2]}else{if(this.datum_type==Proj4js.common.PJD_7PARAM){var g=this.datum_params[0];var d=this.datum_params[1];var j=this.datum_params[2];var f=this.datum_params[3];var k=this.datum_params[4];var i=this.datum_params[5];var h=this.datum_params[6];var e=(c.x-g)/h;var b=(c.y-d)/h;var a=(c.z-j)/h;c.x=e+i*b-k*a;c.y=-i*e+b+f*a;c.z=k*e-f*b+a}}}});Proj4js.Point=Proj4js.Class({initialize:function(a,d,c){if(typeof a=="object"){this.x=a[0];this.y=a[1];this.z=a[2]||0}else{if(typeof a=="string"&&typeof d=="undefined"){var b=a.split(",");this.x=parseFloat(b[0]);this.y=parseFloat(b[1]);this.z=parseFloat(b[2])||0}else{this.x=a;this.y=d;this.z=c||0}}},clone:function(){return new Proj4js.Point(this.x,this.y,this.z)},toString:function(){return("x="+this.x+",y="+this.y)},toShortString:function(){return(this.x+", "+this.y)}});Proj4js.PrimeMeridian={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667};Proj4js.Ellipsoid={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},"APL4.":{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS72:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};Proj4js.Datum={WGS84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},GGRS87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},NAD83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},NAD27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},OSGB36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"}};Proj4js.WGS84=new Proj4js.Proj("WGS84");Proj4js.Datum.OSB36=Proj4js.Datum.OSGB36;Proj4js.wktProjections={"Lambert Tangential Conformal Conic Projection":"lcc",Mercator:"merc","Popular Visualisation Pseudo Mercator":"merc",Mercator_1SP:"merc",Transverse_Mercator:"tmerc","Transverse Mercator":"tmerc","Lambert Azimuthal Equal Area":"laea","Universal Transverse Mercator System":"utm"};Proj4js.Proj.aea={init:function(){if(Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN){Proj4js.reportError("aeaInitEqualLatitudes");return}this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e3=Math.sqrt(this.es);this.sin_po=Math.sin(this.lat1);this.cos_po=Math.cos(this.lat1);this.t1=this.sin_po;this.con=this.sin_po;this.ms1=Proj4js.common.msfnz(this.e3,this.sin_po,this.cos_po);this.qs1=Proj4js.common.qsfnz(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat2);this.cos_po=Math.cos(this.lat2);this.t2=this.sin_po;this.ms2=Proj4js.common.msfnz(this.e3,this.sin_po,this.cos_po);this.qs2=Proj4js.common.qsfnz(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat0);this.cos_po=Math.cos(this.lat0);this.t3=this.sin_po;this.qs0=Proj4js.common.qsfnz(this.e3,this.sin_po,this.cos_po);if(Math.abs(this.lat1-this.lat2)>Proj4js.common.EPSLN){this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1)}else{this.ns0=this.con}this.c=this.ms1*this.ms1+this.ns0*this.qs1;this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0},forward:function(e){var f=e.x;var d=e.y;this.sin_phi=Math.sin(d);this.cos_phi=Math.cos(d);var b=Proj4js.common.qsfnz(this.e3,this.sin_phi,this.cos_phi);var h=this.a*Math.sqrt(this.c-this.ns0*b)/this.ns0;var c=this.ns0*Proj4js.common.adjust_lon(f-this.long0);var a=h*Math.sin(c)+this.x0;var g=this.rh-h*Math.cos(c)+this.y0;e.x=a;e.y=g;return e},inverse:function(e){var g,a,b,c,f,d;e.x-=this.x0;e.y=this.rh-e.y+this.y0;if(this.ns0>=0){g=Math.sqrt(e.x*e.x+e.y*e.y);b=1}else{g=-Math.sqrt(e.x*e.x+e.y*e.y);b=-1}c=0;if(g!=0){c=Math.atan2(b*e.x,b*e.y)}b=g*this.ns0/this.a;a=(this.c-b*b)/this.ns0;if(this.e3>=1e-10){b=1-0.5*(1-this.es)*Math.log((1-this.e3)/(1+this.e3))/this.e3;if(Math.abs(Math.abs(b)-Math.abs(a))>1e-10){d=this.phi1z(this.e3,a)}else{if(a>=0){d=0.5*Proj4js.common.PI}else{d=-0.5*Proj4js.common.PI}}}else{d=this.phi1z(this.e3,a)}f=Proj4js.common.adjust_lon(c/this.ns0+this.long0);e.x=f;e.y=d;return e},phi1z:function(e,k){var a,f,c,d,h;var j=Proj4js.common.asinz(0.5*k);if(e<Proj4js.common.EPSLN){return j}var b=e*e;for(var g=1;g<=25;g++){a=Math.sin(j);f=Math.cos(j);c=e*a;d=1-c*c;h=0.5*d*d/f*(k/(1-b)-a/d+0.5/e*Math.log((1-c)/(1+c)));j=j+h;if(Math.abs(h)<=1e-7){return j}}Proj4js.reportError("aea:phi1z:Convergence error");return null}};Proj4js.Proj.sterea={dependsOn:"gauss",init:function(){Proj4js.Proj.gauss.init.apply(this);if(!this.rc){Proj4js.reportError("sterea:init:E_ERROR_0");return}this.sinc0=Math.sin(this.phic0);this.cosc0=Math.cos(this.phic0);this.R2=2*this.rc;if(!this.title){this.title="Oblique Stereographic Alternative"}},forward:function(e){var b,c,d,a;e.x=Proj4js.common.adjust_lon(e.x-this.long0);Proj4js.Proj.gauss.forward.apply(this,[e]);b=Math.sin(e.y);c=Math.cos(e.y);d=Math.cos(e.x);a=this.k0*this.R2/(1+this.sinc0*b+this.cosc0*c*d);e.x=a*c*Math.sin(e.x);e.y=a*(this.cosc0*b-this.sinc0*c*d);e.x=this.a*e.x+this.x0;e.y=this.a*e.y+this.y0;return e},inverse:function(f){var b,d,g,e,a;f.x=(f.x-this.x0)/this.a;f.y=(f.y-this.y0)/this.a;f.x/=this.k0;f.y/=this.k0;if((a=Math.sqrt(f.x*f.x+f.y*f.y))){var h=2*Math.atan2(a,this.R2);b=Math.sin(h);d=Math.cos(h);e=Math.asin(d*this.sinc0+f.y*b*this.cosc0/a);g=Math.atan2(f.x*b,a*this.cosc0*d-f.y*this.sinc0*b)}else{e=this.phic0;g=0}f.x=g;f.y=e;Proj4js.Proj.gauss.inverse.apply(this,[f]);f.x=Proj4js.common.adjust_lon(f.x+this.long0);return f}};function phi4z(e,k,j,h,g,w,v,u,f){var l,t,p,s,q,o,n,m,d,r;f=w;for(r=1;r<=15;r++){l=Math.sin(f);p=Math.tan(f);u=p*Math.sqrt(1-e*l*l);t=Math.sin(2*f);s=k*f-j*t+h*Math.sin(4*f)-g*Math.sin(6*f);q=k-2*j*Math.cos(2*f)+4*h*Math.cos(4*f)-6*g*Math.cos(6*f);o=2*s+u*(s*s+v)-2*w*(u*s+1);n=e*t*(s*s+v-2*w*s)/(2*u);m=2*(w-s)*(u*q-2/t)-2*q;d=o/(n+m);f+=d;if(Math.abs(d)<=1e-10){return(f)}}Proj4js.reportError("phi4z: No convergence");return null}function e4fn(a){var b,c;b=1+a;c=1-a;return(Math.sqrt((Math.pow(b,b))*(Math.pow(c,c))))}Proj4js.Proj.poly={init:function(){var a;if(this.lat0==0){this.lat0=90}this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=Proj4js.common.e0fn(this.es);this.e1=Proj4js.common.e1fn(this.es);this.e2=Proj4js.common.e2fn(this.es);this.e3=Proj4js.common.e3fn(this.es);this.ml0=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(e){var a,g;var i;var k;var f,h;var d;var m,l;var b=e.x;var j=e.y;f=Proj4js.common.adjust_lon(b-this.long0);if(Math.abs(j)<=1e-7){m=this.x0+this.a*f;l=this.y0-this.a*this.ml0}else{a=Math.sin(j);g=Math.cos(j);h=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,j);d=Proj4js.common.msfnz(this.e,a,g);f=a;m=this.x0+this.a*d*Math.sin(f)/a;l=this.y0+this.a*(h-this.ml0+d*(1-Math.cos(f))/a)}e.x=m;e.y=l;return e},inverse:function(d){var l,h;var g;var m;var j;var e,f;var k;var a,i;d.x-=this.x0;d.y-=this.y0;g=this.ml0+d.y/this.a;k=0;if(Math.abs(g)<=1e-7){a=d.x/this.a+this.long0;i=0}else{m=g*g+(d.x/this.a)*(d.x/this.a);k=phi4z(this.es,this.e0,this.e1,this.e2,this.e3,this.al,m,j,i);if(k!=1){return(k)}a=Proj4js.common.adjust_lon((Proj4js.common.asinz(d.x*j/this.a)/Math.sin(i))+this.long0)}d.x=a;d.y=i;return d}};Proj4js.Proj.equi={init:function(){if(!this.x0){this.x0=0}if(!this.y0){this.y0=0}if(!this.lat0){this.lat0=0}if(!this.long0){this.long0=0}},forward:function(d){var e=d.x;var c=d.y;var b=Proj4js.common.adjust_lon(e-this.long0);var a=this.x0+this.a*b*Math.cos(this.lat0);var f=this.y0+this.a*c;this.t1=a;this.t2=Math.cos(this.lat0);d.x=a;d.y=f;return d},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var a=b.y/this.a;if(Math.abs(a)>Proj4js.common.HALF_PI){Proj4js.reportError("equi:Inv:DataError")}var c=Proj4js.common.adjust_lon(this.long0+b.x/(this.a*Math.cos(this.lat0)));b.x=c;b.y=a}};Proj4js.Proj.merc={init:function(){if(this.lat_ts){if(this.sphere){this.k0=Math.cos(this.lat_ts)}else{this.k0=Proj4js.common.msfnz(this.es,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}}},forward:function(e){var f=e.x;var d=e.y;if(d*Proj4js.common.R2D>90&&d*Proj4js.common.R2D<-90&&f*Proj4js.common.R2D>180&&f*Proj4js.common.R2D<-180){Proj4js.reportError("merc:forward: llInputOutOfRange: "+f+" : "+d);return null}var a,g;if(Math.abs(Math.abs(d)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN){Proj4js.reportError("merc:forward: ll2mAtPoles");return null}else{if(this.sphere){a=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(f-this.long0);g=this.y0+this.a*this.k0*Math.log(Math.tan(Proj4js.common.FORTPI+0.5*d))}else{var c=Math.sin(d);var b=Proj4js.common.tsfnz(this.e,d,c);a=this.x0+this.a*this.k0*Proj4js.common.adjust_lon(f-this.long0);g=this.y0-this.a*this.k0*Math.log(b)}e.x=a;e.y=g;return e}},inverse:function(d){var a=d.x-this.x0;var f=d.y-this.y0;var e,c;if(this.sphere){c=Proj4js.common.HALF_PI-2*Math.atan(Math.exp(-f/this.a*this.k0))}else{var b=Math.exp(-f/(this.a*this.k0));c=Proj4js.common.phi2z(this.e,b);if(c==-9999){Proj4js.reportError("merc:inverse: lat = -9999");return null}}e=Proj4js.common.adjust_lon(this.long0+a/(this.a*this.k0));d.x=e;d.y=c;return d}};Proj4js.Proj.utm={dependsOn:"tmerc",init:function(){if(!this.zone){Proj4js.reportError("utm:init: zone must be specified for UTM");return}this.lat0=0;this.long0=((6*Math.abs(this.zone))-183)*Proj4js.common.D2R;this.x0=500000;this.y0=this.utmSouth?10000000:0;this.k0=0.9996;Proj4js.Proj.tmerc.init.apply(this);this.forward=Proj4js.Proj.tmerc.forward;this.inverse=Proj4js.Proj.tmerc.inverse}};Proj4js.Proj.eqdc={init:function(){if(!this.mode){this.mode=0}this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=Proj4js.common.e0fn(this.es);this.e1=Proj4js.common.e1fn(this.es);this.e2=Proj4js.common.e2fn(this.es);this.e3=Proj4js.common.e3fn(this.es);this.sinphi=Math.sin(this.lat1);this.cosphi=Math.cos(this.lat1);this.ms1=Proj4js.common.msfnz(this.e,this.sinphi,this.cosphi);this.ml1=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat1);if(this.mode!=0){if(Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN){Proj4js.reportError("eqdc:Init:EqualLatitudes")}this.sinphi=Math.sin(this.lat2);this.cosphi=Math.cos(this.lat2);this.ms2=Proj4js.common.msfnz(this.e,this.sinphi,this.cosphi);this.ml2=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat2);if(Math.abs(this.lat1-this.lat2)>=Proj4js.common.EPSLN){this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)}else{this.ns=this.sinphi}}else{this.ns=this.sinphi}this.g=this.ml1+this.ms1/this.ns;this.ml0=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0);this.rh=this.a*(this.g-this.ml0)},forward:function(d){var e=d.x;var c=d.y;var h=Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,c);var g=this.a*(this.g-h);var b=this.ns*Proj4js.common.adjust_lon(e-this.long0);var a=this.x0+g*Math.sin(b);var f=this.y0+this.rh-g*Math.cos(b);d.x=a;d.y=f;return d},inverse:function(d){d.x-=this.x0;d.y=this.rh-d.y+this.y0;var a,g;if(this.ns>=0){g=Math.sqrt(d.x*d.x+d.y*d.y);a=1}else{g=-Math.sqrt(d.x*d.x+d.y*d.y);a=-1}var b=0;if(g!=0){b=Math.atan2(a*d.x,a*d.y)}var f=this.g-g/this.a;var c=this.phi3z(f,this.e0,this.e1,this.e2,this.e3);var e=Proj4js.common.adjust_lon(this.long0+b/this.ns);d.x=e;d.y=c;return d},phi3z:function(h,g,f,e,d){var c;var a;c=h;for(var b=0;b<15;b++){a=(h+f*Math.sin(2*c)-e*Math.sin(4*c)+d*Math.sin(6*c))/g-c;c+=a;if(Math.abs(a)<=1e-10){return c}}Proj4js.reportError("PHI3Z-CONV:Latitude failed to converge after 15 iterations");return null}};Proj4js.Proj.tmerc={init:function(){this.e0=Proj4js.common.e0fn(this.es);this.e1=Proj4js.common.e1fn(this.es);this.e2=Proj4js.common.e2fn(this.es);this.e3=Proj4js.common.e3fn(this.es);this.ml0=this.a*Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(d){var a=d.x;var m=d.y;var g=Proj4js.common.adjust_lon(a-this.long0);var e;var u,r;var s=Math.sin(m);var k=Math.cos(m);if(this.sphere){var q=k*Math.sin(g);if((Math.abs(Math.abs(q)-1))<1e-10){Proj4js.reportError("tmerc:forward: Point projects into infinity");return(93)}else{u=0.5*this.a*this.k0*Math.log((1+q)/(1-q));e=Math.acos(k*Math.cos(g)/Math.sqrt(1-q*q));if(m<0){e=-e}r=this.a*this.k0*(e-this.lat0)}}else{var j=k*g;var i=Math.pow(j,2);var l=this.ep2*Math.pow(k,2);var o=Math.tan(m);var v=Math.pow(o,2);e=1-this.es*Math.pow(s,2);var f=this.a/Math.sqrt(e);var h=this.a*Proj4js.common.mlfn(this.e0,this.e1,this.e2,this.e3,m);u=this.k0*f*j*(1+i/6*(1-v+l+i/20*(5-18*v+Math.pow(v,2)+72*l-58*this.ep2)))+this.x0;r=this.k0*(h-this.ml0+f*o*(i*(0.5+i/24*(5-v+9*l+4*Math.pow(l,2)+i/30*(61-58*v+Math.pow(v,2)+600*l-330*this.ep2)))))+this.y0}d.x=u;d.y=r;return d},inverse:function(A){var k,e;var J;var C;var o=6;var m,j;if(this.sphere){var F=Math.exp(A.x/(this.a*this.k0));var E=0.5*(F-1/F);var H=this.lat0+A.y/(this.a*this.k0);var D=Math.cos(H);k=Math.sqrt((1-D*D)/(1+E*E));m=Proj4js.common.asinz(k);if(H<0){m=-m}if((E==0)&&(D==0)){j=this.long0}else{j=Proj4js.common.adjust_lon(Math.atan2(E,D)+this.long0)}}else{var s=A.x-this.x0;var q=A.y-this.y0;k=(this.ml0+q/this.k0)/this.a;e=k;for(C=0;true;C++){J=((k+this.e1*Math.sin(2*e)-this.e2*Math.sin(4*e)+this.e3*Math.sin(6*e))/this.e0)-e;e+=J;if(Math.abs(J)<=Proj4js.common.EPSLN){break}if(C>=o){Proj4js.reportError("tmerc:inverse: Latitude failed to converge");return(95)}}if(Math.abs(e)<Proj4js.common.HALF_PI){var b=Math.sin(e);var K=Math.cos(e);var u=Math.tan(e);var I=this.ep2*Math.pow(K,2);var l=Math.pow(I,2);var v=Math.pow(u,2);var a=Math.pow(v,2);k=1-this.es*Math.pow(b,2);var B=this.a/Math.sqrt(k);var w=B*(1-this.es)/k;var G=s/(B*this.k0);var z=Math.pow(G,2);m=e-(B*u*z/w)*(0.5-z/24*(5+3*v+10*I-4*l-9*this.ep2-z/30*(61+90*v+298*I+45*a-252*this.ep2-3*l)));j=Proj4js.common.adjust_lon(this.long0+(G*(1-z/6*(1+2*v+I-z/20*(5-2*I+28*v-3*l+8*this.ep2+24*a)))/K))}else{m=Proj4js.common.HALF_PI*Proj4js.common.sign(q);j=this.long0}}A.x=j;A.y=m;return A}};Proj4js.defs.GOOGLE="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs";Proj4js.defs["EPSG:900913"]=Proj4js.defs.GOOGLE;Proj4js.Proj.gstmerc={init:function(){var a=this.b/this.a;this.e=Math.sqrt(1-a*a);this.lc=this.long0;this.rs=Math.sqrt(1+this.e*this.e*Math.pow(Math.cos(this.lat0),4)/(1-this.e*this.e));var c=Math.sin(this.lat0);var b=Math.asin(c/this.rs);var d=Math.sin(b);this.cp=Proj4js.common.latiso(0,b,d)-this.rs*Proj4js.common.latiso(this.e,this.lat0,c);this.n2=this.k0*this.a*Math.sqrt(1-this.e*this.e)/(1-this.e*this.e*c*c);this.xs=this.x0;this.ys=this.y0-this.n2*b;if(!this.title){this.title="Gauss Schreiber transverse mercator"}},forward:function(e){var g=e.x;var d=e.y;var a=this.rs*(g-this.lc);var b=this.cp+(this.rs*Proj4js.common.latiso(this.e,d,Math.sin(d)));var f=Math.asin(Math.sin(a)/Proj4js.common.cosh(b));var c=Proj4js.common.latiso(0,f,Math.sin(f));e.x=this.xs+(this.n2*c);e.y=this.ys+(this.n2*Math.atan(Proj4js.common.sinh(b)/Math.cos(a)));return e},inverse:function(d){var b=d.x;var f=d.y;var a=Math.atan(Proj4js.common.sinh((b-this.xs)/this.n2)/Math.cos((f-this.ys)/this.n2));var e=Math.asin(Math.sin((f-this.ys)/this.n2)/Proj4js.common.cosh((b-this.xs)/this.n2));var c=Proj4js.common.latiso(0,e,Math.sin(e));d.x=this.lc+a/this.rs;d.y=Proj4js.common.invlatiso(this.e,(c-this.cp)/this.rs);return d}};Proj4js.Proj.ortho={init:function(a){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0)},forward:function(c){var a,d;var l;var k;var e;var f;var b=c.x;var h=c.y;l=Proj4js.common.adjust_lon(b-this.long0);a=Math.sin(h);d=Math.cos(h);k=Math.cos(l);f=this.sin_p14*a+this.cos_p14*d*k;e=1;if((f>0)||(Math.abs(f)<=Proj4js.common.EPSLN)){var j=this.a*e*d*Math.sin(l);var i=this.y0+this.a*e*(this.cos_p14*a-this.sin_p14*d*k)}else{Proj4js.reportError("orthoFwdPointError")}c.x=j;c.y=i;return c},inverse:function(b){var g;var f;var d,i;var h;var c;var a,e;b.x-=this.x0;b.y-=this.y0;g=Math.sqrt(b.x*b.x+b.y*b.y);if(g>this.a+1e-7){Proj4js.reportError("orthoInvDataError")}f=Proj4js.common.asinz(g/this.a);d=Math.sin(f);i=Math.cos(f);a=this.long0;if(Math.abs(g)<=Proj4js.common.EPSLN){e=this.lat0}e=Proj4js.common.asinz(i*this.sin_p14+(b.y*d*this.cos_p14)/g);c=Math.abs(this.lat0)-Proj4js.common.HALF_PI;if(Math.abs(c)<=Proj4js.common.EPSLN){if(this.lat0>=0){a=Proj4js.common.adjust_lon(this.long0+Math.atan2(b.x,-b.y))}else{a=Proj4js.common.adjust_lon(this.long0-Math.atan2(-b.x,b.y))}}c=i-this.sin_p14*Math.sin(e);b.x=a;b.y=e;return b}};Proj4js.Proj.krovak={init:function(){this.a=6377397.155;this.es=0.006674372230614;this.e=Math.sqrt(this.es);if(!this.lat0){this.lat0=0.863937979737193}if(!this.long0){this.long0=0.7417649320975901-0.308341501185665}if(!this.k0){this.k0=0.9999}this.s45=0.785398163397448;this.s90=2*this.s45;this.fi0=this.lat0;this.e2=this.es;this.e=Math.sqrt(this.e2);this.alfa=Math.sqrt(1+(this.e2*Math.pow(Math.cos(this.fi0),4))/(1-this.e2));this.uq=1.04216856380474;this.u0=Math.asin(Math.sin(this.fi0)/this.alfa);this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2);this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g;this.k1=this.k0;this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2));this.s0=1.37008346281555;this.n=Math.sin(this.s0);this.ro0=this.k1*this.n0/Math.tan(this.s0);this.ad=this.s90-this.uq},forward:function(c){var f,j,b,k,h,l,g;var a=c.x;var i=c.y;var e=Proj4js.common.adjust_lon(a-this.long0);f=Math.pow(((1+this.e*Math.sin(i))/(1-this.e*Math.sin(i))),(this.alfa*this.e/2));j=2*(Math.atan(this.k*Math.pow(Math.tan(i/2+this.s45),this.alfa)/f)-this.s45);b=-e*this.alfa;k=Math.asin(Math.cos(this.ad)*Math.sin(j)+Math.sin(this.ad)*Math.cos(j)*Math.cos(b));h=Math.asin(Math.cos(j)*Math.sin(b)/Math.cos(k));l=this.n*h;g=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(k/2+this.s45),this.n);c.y=g*Math.cos(l)/1;c.x=g*Math.sin(l)/1;if(this.czech){c.y*=-1;c.x*=-1}return(c)},inverse:function(b){var j,a,k,g,l,e,f;var i;var c=b.x;b.x=b.y;b.y=c;if(this.czech){b.y*=-1;b.x*=-1}e=Math.sqrt(b.x*b.x+b.y*b.y);l=Math.atan2(b.y,b.x);g=l/Math.sin(this.s0);k=2*(Math.atan(Math.pow(this.ro0/e,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45);j=Math.asin(Math.cos(this.ad)*Math.sin(k)-Math.sin(this.ad)*Math.cos(k)*Math.cos(g));a=Math.asin(Math.cos(k)*Math.sin(g)/Math.cos(j));b.x=this.long0-a/this.alfa;f=j;i=0;var h=0;do{b.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(j/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(f))/(1-this.e*Math.sin(f)),this.e/2))-this.s45);if(Math.abs(f-b.y)<1e-10){i=1}f=b.y;h+=1}while(i==0&&h<15);if(h>=15){Proj4js.reportError("PHI3Z-CONV:Latitude failed to converge after 15 iterations");return null}return(b)}};Proj4js.Proj.somerc={init:function(){var b=this.lat0;this.lambda0=this.long0;var a=Math.sin(b);var d=this.a;var c=this.rf;var f=1/c;var h=2*f-Math.pow(f,2);var g=this.e=Math.sqrt(h);this.R=this.k0*d*Math.sqrt(1-h)/(1-h*Math.pow(a,2));this.alpha=Math.sqrt(1+h/(1-h)*Math.pow(Math.cos(b),4));this.b0=Math.asin(a/this.alpha);this.K=Math.log(Math.tan(Math.PI/4+this.b0/2))-this.alpha*Math.log(Math.tan(Math.PI/4+b/2))+this.alpha*g/2*Math.log((1+g*a)/(1-g*a))},forward:function(f){var i=Math.log(Math.tan(Math.PI/4-f.y/2));var g=this.e/2*Math.log((1+this.e*Math.sin(f.y))/(1-this.e*Math.sin(f.y)));var d=-this.alpha*(i+g)+this.K;var a=2*(Math.atan(Math.exp(d))-Math.PI/4);var c=this.alpha*(f.x-this.lambda0);var h=Math.atan(Math.sin(c)/(Math.sin(this.b0)*Math.tan(a)+Math.cos(this.b0)*Math.cos(c)));var e=Math.asin(Math.cos(this.b0)*Math.sin(a)-Math.sin(this.b0)*Math.cos(a)*Math.cos(c));f.y=this.R/2*Math.log((1+Math.sin(e))/(1-Math.sin(e)))+this.y0;f.x=this.R*h+this.x0;return f},inverse:function(d){var c=d.x-this.x0;var e=d.y-this.y0;var l=c/this.R;var f=2*(Math.atan(Math.exp(e/this.R))-Math.PI/4);var j=Math.asin(Math.cos(this.b0)*Math.sin(f)+Math.sin(this.b0)*Math.cos(f)*Math.cos(l));var k=Math.atan(Math.sin(l)/(Math.cos(this.b0)*Math.cos(l)-Math.sin(this.b0)*Math.tan(f)));var i=this.lambda0+k/this.alpha;var h=0;var m=j;var a=-1000;var g=0;while(Math.abs(m-a)>1e-7){if(++g>20){Proj4js.reportError("omercFwdInfinity");return}h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+j/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(m))/2));a=m;m=2*Math.atan(Math.exp(h))-Math.PI/2}d.x=i;d.y=m;return d}};Proj4js.Proj.stere={ssfn_:function(a,c,b){c*=b;return(Math.tan(0.5*(Proj4js.common.HALF_PI+a))*Math.pow((1-c)/(1+c),0.5*b))},TOL:1e-8,NITER:8,CONV:1e-10,S_POLE:0,N_POLE:1,OBLIQ:2,EQUIT:3,init:function(){this.phits=this.lat_ts?this.lat_ts:Proj4js.common.HALF_PI;var a=Math.abs(this.lat0);if((Math.abs(a)-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN){this.mode=this.lat0<0?this.S_POLE:this.N_POLE}else{this.mode=a>Proj4js.common.EPSLN?this.OBLIQ:this.EQUIT}this.phits=Math.abs(this.phits);if(this.es){var b;switch(this.mode){case this.N_POLE:case this.S_POLE:if(Math.abs(this.phits-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN){this.akm1=2*this.k0/Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e))}else{a=Math.sin(this.phits);this.akm1=Math.cos(this.phits)/Proj4js.common.tsfnz(this.e,this.phits,a);a*=this.e;this.akm1/=Math.sqrt(1-a*a)}break;case this.EQUIT:this.akm1=2*this.k0;break;case this.OBLIQ:a=Math.sin(this.lat0);b=2*Math.atan(this.ssfn_(this.lat0,a,this.e))-Proj4js.common.HALF_PI;a*=this.e;this.akm1=2*this.k0*Math.cos(this.lat0)/Math.sqrt(1-a*a);this.sinX1=Math.sin(b);this.cosX1=Math.cos(b);break}}else{switch(this.mode){case this.OBLIQ:this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0);case this.EQUIT:this.akm1=2*this.k0;break;case this.S_POLE:case this.N_POLE:this.akm1=Math.abs(this.phits-Proj4js.common.HALF_PI)>=Proj4js.common.EPSLN?Math.cos(this.phits)/Math.tan(Proj4js.common.FORTPI-0.5*this.phits):2*this.k0;break}}},forward:function(c){var b=c.x;b=Proj4js.common.adjust_lon(b-this.long0);var i=c.y;var m,k;if(this.sphere){var a,f,l,g;a=Math.sin(i);f=Math.cos(i);l=Math.cos(b);g=Math.sin(b);switch(this.mode){case this.EQUIT:k=1+f*l;if(k<=Proj4js.common.EPSLN){Proj4js.reportError("stere:forward:Equit")}k=this.akm1/k;m=k*f*g;k*=a;break;case this.OBLIQ:k=1+this.sinph0*a+this.cosph0*f*l;if(k<=Proj4js.common.EPSLN){Proj4js.reportError("stere:forward:Obliq")}k=this.akm1/k;m=k*f*g;k*=this.cosph0*a-this.sinph0*f*l;break;case this.N_POLE:l=-l;i=-i;case this.S_POLE:if(Math.abs(i-Proj4js.common.HALF_PI)<this.TOL){Proj4js.reportError("stere:forward:S_POLE")}k=this.akm1*Math.tan(Proj4js.common.FORTPI+0.5*i);m=g*k;k*=l;break}}else{l=Math.cos(b);g=Math.sin(b);a=Math.sin(i);var j,h;if(this.mode==this.OBLIQ||this.mode==this.EQUIT){var e=2*Math.atan(this.ssfn_(i,a,this.e));j=Math.sin(e-Proj4js.common.HALF_PI);h=Math.cos(e)}switch(this.mode){case this.OBLIQ:var d=this.akm1/(this.cosX1*(1+this.sinX1*j+this.cosX1*h*l));k=d*(this.cosX1*j-this.sinX1*h*l);m=d*h;break;case this.EQUIT:var d=2*this.akm1/(1+h*l);k=d*j;m=d*h;break;case this.S_POLE:i=-i;l=-l;a=-a;case this.N_POLE:m=this.akm1*Proj4js.common.tsfnz(this.e,i,a);k=-m*l;break}m=m*g}c.x=m*this.a+this.x0;c.y=k*this.a+this.y0;return c},inverse:function(d){var r=(d.x-this.x0)/this.a;var n=(d.y-this.y0)/this.a;var b,m;var h,a,q=0,e=0,o,g=0,k=0;var j;if(this.sphere){var l,s,f,t;s=Math.sqrt(r*r+n*n);l=2*Math.atan(s/this.akm1);f=Math.sin(l);t=Math.cos(l);b=0;switch(this.mode){case this.EQUIT:if(Math.abs(s)<=Proj4js.common.EPSLN){m=0}else{m=Math.asin(n*f/s)}if(t!=0||r!=0){b=Math.atan2(r*f,t*s)}break;case this.OBLIQ:if(Math.abs(s)<=Proj4js.common.EPSLN){m=this.phi0}else{m=Math.asin(t*this.sinph0+n*f*this.cosph0/s)}l=t-this.sinph0*Math.sin(m);if(l!=0||r!=0){b=Math.atan2(r*f*this.cosph0,l*s)}break;case this.N_POLE:n=-n;case this.S_POLE:if(Math.abs(s)<=Proj4js.common.EPSLN){m=this.phi0}else{m=Math.asin(this.mode==this.S_POLE?-t:t)}b=(r==0&&n==0)?0:Math.atan2(r,n);break}d.x=Proj4js.common.adjust_lon(b+this.long0);d.y=m}else{o=Math.sqrt(r*r+n*n);switch(this.mode){case this.OBLIQ:case this.EQUIT:q=2*Math.atan2(o*this.cosX1,this.akm1);h=Math.cos(q);a=Math.sin(q);if(o==0){e=Math.asin(h*this.sinX1)}else{e=Math.asin(h*this.sinX1+(n*a*this.cosX1/o))}q=Math.tan(0.5*(Proj4js.common.HALF_PI+e));r*=a;n=o*this.cosX1*h-n*this.sinX1*a;k=Proj4js.common.HALF_PI;g=0.5*this.e;break;case this.N_POLE:n=-n;case this.S_POLE:q=-o/this.akm1;e=Proj4js.common.HALF_PI-2*Math.atan(q);k=-Proj4js.common.HALF_PI;g=-0.5*this.e;break}for(j=this.NITER;j--;e=m){a=this.e*Math.sin(e);m=2*Math.atan(q*Math.pow((1+a)/(1-a),g))-k;if(Math.abs(e-m)<this.CONV){if(this.mode==this.S_POLE){m=-m}b=(r==0&&n==0)?0:Math.atan2(r,n);d.x=Proj4js.common.adjust_lon(b+this.long0);d.y=m;return d}}}}};Proj4js.Proj.nzmg={iterations:1,init:function(){this.A=new Array();this.A[1]=+0.6399175073;this.A[2]=-0.1358797613;this.A[3]=+0.063294409;this.A[4]=-0.02526853;this.A[5]=+0.0117879;this.A[6]=-0.0055161;this.A[7]=+0.0026906;this.A[8]=-0.001333;this.A[9]=+0.00067;this.A[10]=-0.00034;this.B_re=new Array();this.B_im=new Array();this.B_re[1]=+0.7557853228;this.B_im[1]=0;this.B_re[2]=+0.249204646;this.B_im[2]=+0.003371507;this.B_re[3]=-0.001541739;this.B_im[3]=+0.04105856;this.B_re[4]=-0.10162907;this.B_im[4]=+0.01727609;this.B_re[5]=-0.26623489;this.B_im[5]=-0.36249218;this.B_re[6]=-0.6870983;this.B_im[6]=-1.1651967;this.C_re=new Array();this.C_im=new Array();this.C_re[1]=+1.3231270439;this.C_im[1]=0;this.C_re[2]=-0.577245789;this.C_im[2]=-0.007809598;this.C_re[3]=+0.508307513;this.C_im[3]=-0.112208952;this.C_re[4]=-0.15094762;this.C_im[4]=+0.18200602;this.C_re[5]=+1.01418179;this.C_im[5]=+1.64497696;this.C_re[6]=+1.9660549;this.C_im[6]=+2.5127645;this.D=new Array();this.D[1]=+1.5627014243;this.D[2]=+0.5185406398;this.D[3]=-0.03333098;this.D[4]=-0.1052906;this.D[5]=-0.0368594;this.D[6]=+0.007317;this.D[7]=+0.0122;this.D[8]=+0.00394;this.D[9]=-0.0013},forward:function(m){var d=m.x;var g=m.y;var b=g-this.lat0;var s=d-this.long0;var t=b/Proj4js.common.SEC_TO_RAD*0.00001;var i=s;var h=1;var r=0;for(var o=1;o<=10;o++){h=h*t;r=r+this.A[o]*h}var f=r;var a=i;var k=1;var e=0;var q;var l;var j=0;var c=0;for(var o=1;o<=6;o++){q=k*f-e*a;l=e*f+k*a;k=q;e=l;j=j+this.B_re[o]*k-this.B_im[o]*e;c=c+this.B_im[o]*k+this.B_re[o]*e}m.x=(c*this.a)+this.x0;m.y=(j*this.a)+this.y0;return m},inverse:function(u){var r=u.x;var q=u.y;var C=r-this.x0;var A=q-this.y0;var o=A/this.a;var e=C/this.a;var j=1;var I=0;var f;var F;var k=0;var a=0;for(var v=1;v<=6;v++){f=j*o-I*e;F=I*o+j*e;j=f;I=F;k=k+this.C_re[v]*j-this.C_im[v]*I;a=a+this.C_im[v]*j+this.C_re[v]*I}for(var B=0;B<this.iterations;B++){var s=k;var h=a;var z;var t;var c=o;var E=e;for(var v=2;v<=6;v++){z=s*k-h*a;t=h*k+s*a;s=z;h=t;c=c+(v-1)*(this.B_re[v]*s-this.B_im[v]*h);E=E+(v-1)*(this.B_im[v]*s+this.B_re[v]*h)}s=1;h=0;var b=this.B_re[1];var D=this.B_im[1];for(var v=2;v<=6;v++){z=s*k-h*a;t=h*k+s*a;s=z;h=t;b=b+v*(this.B_re[v]*s-this.B_im[v]*h);D=D+v*(this.B_im[v]*s+this.B_re[v]*h)}var d=b*b+D*D;k=(c*b+E*D)/d;a=(E*b-c*D)/d}var w=k;var m=a;var G=1;var H=0;for(var v=1;v<=9;v++){G=G*w;H=H+this.D[v]*G}var l=this.lat0+(H*Proj4js.common.SEC_TO_RAD*100000);var g=this.long0+m;u.x=g;u.y=l;return u}};Proj4js.Proj.mill={init:function(){},forward:function(d){var e=d.x;var c=d.y;var b=Proj4js.common.adjust_lon(e-this.long0);var a=this.x0+this.a*b;var f=this.y0+this.a*Math.log(Math.tan((Proj4js.common.PI/4)+(c/2.5)))*1.25;d.x=a;d.y=f;return d},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var c=Proj4js.common.adjust_lon(this.long0+b.x/this.a);var a=2.5*(Math.atan(Math.exp(0.8*b.y/this.a))-Proj4js.common.PI/4);b.x=c;b.y=a;return b}};Proj4js.Proj.gnom={init:function(a){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0);this.infinity_dist=1000*this.a;this.rc=1},forward:function(c){var a,d;var l;var k;var e;var f;var j,i;var b=c.x;var h=c.y;l=Proj4js.common.adjust_lon(b-this.long0);a=Math.sin(h);d=Math.cos(h);k=Math.cos(l);f=this.sin_p14*a+this.cos_p14*d*k;e=1;if((f>0)||(Math.abs(f)<=Proj4js.common.EPSLN)){j=this.x0+this.a*e*d*Math.sin(l)/f;i=this.y0+this.a*e*(this.cos_p14*a-this.sin_p14*d*k)/f}else{Proj4js.reportError("orthoFwdPointError");j=this.x0+this.infinity_dist*d*Math.sin(l);i=this.y0+this.infinity_dist*(this.cos_p14*a-this.sin_p14*d*k)}c.x=j;c.y=i;return c},inverse:function(f){var a;var h;var b,d;var i;var g,e;f.x=(f.x-this.x0)/this.a;f.y=(f.y-this.y0)/this.a;f.x/=this.k0;f.y/=this.k0;if((a=Math.sqrt(f.x*f.x+f.y*f.y))){i=Math.atan2(a,this.rc);b=Math.sin(i);d=Math.cos(i);e=Proj4js.common.asinz(d*this.sin_p14+(f.y*b*this.cos_p14)/a);g=Math.atan2(f.x*b,a*this.cos_p14*d-f.y*this.sin_p14*b);g=Proj4js.common.adjust_lon(this.long0+g)}else{e=this.phic0;g=0}f.x=g;f.y=e;return f}};Proj4js.Proj.sinu={init:function(){if(!this.sphere){this.en=Proj4js.common.pj_enfn(this.es)}else{this.n=1;this.m=0;this.es=0;this.C_y=Math.sqrt((this.m+1)/this.n);this.C_x=this.C_y/(this.m+1)}},forward:function(b){var m,l,e;var a=b.x;var j=b.y;a=Proj4js.common.adjust_lon(a-this.long0);if(this.sphere){if(!this.m){j=this.n!=1?Math.asin(this.n*Math.sin(j)):j}else{var f=this.n*Math.sin(j);for(var g=Proj4js.common.MAX_ITER;g;--g){var d=(this.m*j+Math.sin(j)-f)/(this.m+Math.cos(j));j-=d;if(Math.abs(d)<Proj4js.common.EPSLN){break}}}m=this.a*this.C_x*a*(this.m+Math.cos(j));l=this.a*this.C_y*j}else{var n=Math.sin(j);var h=Math.cos(j);l=this.a*Proj4js.common.pj_mlfn(j,n,h,this.en);m=this.a*a*h/Math.sqrt(1-this.es*n*n)}b.x=m;b.y=l;return b},inverse:function(d){var c,a,e;d.x-=this.x0;d.y-=this.y0;c=d.y/this.a;if(this.sphere){d.y/=this.C_y;c=this.m?Math.asin((this.m*d.y+Math.sin(d.y))/this.n):(this.n!=1?Math.asin(Math.sin(d.y)/this.n):d.y);e=d.x/(this.C_x*(this.m+Math.cos(d.y)))}else{c=Proj4js.common.pj_inv_mlfn(d.y/this.a,this.es,this.en);var b=Math.abs(c);if(b<Proj4js.common.HALF_PI){b=Math.sin(c);a=this.long0+d.x*Math.sqrt(1-this.es*b*b)/(this.a*Math.cos(c));e=Proj4js.common.adjust_lon(a)}else{if((b-Proj4js.common.EPSLN)<Proj4js.common.HALF_PI){e=this.long0}}}d.x=e;d.y=c;return d}};Proj4js.Proj.vandg={init:function(){this.R=6370997},forward:function(c){var a=c.x;var n=c.y;var s=Proj4js.common.adjust_lon(a-this.long0);var r,o;if(Math.abs(n)<=Proj4js.common.EPSLN){r=this.x0+this.R*s;o=this.y0}var e=Proj4js.common.asinz(2*Math.abs(n/Proj4js.common.PI));if((Math.abs(s)<=Proj4js.common.EPSLN)||(Math.abs(Math.abs(n)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN)){r=this.x0;if(n>=0){o=this.y0+Proj4js.common.PI*this.R*Math.tan(0.5*e)}else{o=this.y0+Proj4js.common.PI*this.R*-Math.tan(0.5*e)}}var k=0.5*Math.abs((Proj4js.common.PI/s)-(s/Proj4js.common.PI));var d=k*k;var l=Math.sin(e);var j=Math.cos(e);var i=j/(l+j-1);var h=i*i;var f=i*(2/l-1);var q=f*f;var b=Proj4js.common.PI*this.R*(k*(i-q)+Math.sqrt(d*(i-q)*(i-q)-(q+d)*(h-q)))/(q+d);if(s<0){b=-b}r=this.x0+b;b=Math.abs(b/(Proj4js.common.PI*this.R));if(n>=0){o=this.y0+Proj4js.common.PI*this.R*Math.sqrt(1-b*b-2*k*b)}else{o=this.y0-Proj4js.common.PI*this.R*Math.sqrt(1-b*b-2*k*b)}c.x=r;c.y=o;return c},inverse:function(f){var b,n;var a,m,r,j,i,h;var k,g;var e;var q;var c;var o;var l;f.x-=this.x0;f.y-=this.y0;c=Proj4js.common.PI*this.R;a=f.x/c;m=f.y/c;r=a*a+m*m;j=-Math.abs(m)*(1+r);i=j-2*m*m+a*a;h=-2*j+1+2*m*m+r*r;l=m*m/h+(2*i*i*i/h/h/h-9*j*i/h/h)/27;e=(j-i*i/3/h)/h;q=2*Math.sqrt(-e/3);c=((3*l)/e)/q;if(Math.abs(c)>1){if(c>=0){c=1}else{c=-1}}o=Math.acos(c)/3;if(f.y>=0){n=(-q*Math.cos(o+Proj4js.common.PI/3)-i/3/h)*Proj4js.common.PI}else{n=-(-q*Math.cos(o+Proj4js.common.PI/3)-i/3/h)*Proj4js.common.PI}if(Math.abs(a)<Proj4js.common.EPSLN){b=this.long0}b=Proj4js.common.adjust_lon(this.long0+Proj4js.common.PI*(r-1+Math.sqrt(1+2*(a*a-m*m)+r*r))/2/a);f.x=b;f.y=n;return f}};Proj4js.Proj.cea={init:function(){},forward:function(d){var e=d.x;var c=d.y;var b=Proj4js.common.adjust_lon(e-this.long0);var a=this.x0+this.a*b*Math.cos(this.lat_ts);var f=this.y0+this.a*Math.sin(c)/Math.cos(this.lat_ts);d.x=a;d.y=f;return d},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var c=Proj4js.common.adjust_lon(this.long0+(b.x/this.a)/Math.cos(this.lat_ts));var a=Math.asin((b.y/this.a)*Math.cos(this.lat_ts));b.x=c;b.y=a;return b}};Proj4js.Proj.eqc={init:function(){if(!this.x0){this.x0=0}if(!this.y0){this.y0=0}if(!this.lat0){this.lat0=0}if(!this.long0){this.long0=0}if(!this.lat_ts){this.lat_ts=0}if(!this.title){this.title="Equidistant Cylindrical (Plate Carre)"}this.rc=Math.cos(this.lat_ts)},forward:function(d){var e=d.x;var c=d.y;var b=Proj4js.common.adjust_lon(e-this.long0);var a=Proj4js.common.adjust_lat(c-this.lat0);d.x=this.x0+(this.a*b*this.rc);d.y=this.y0+(this.a*a);return d},inverse:function(b){var a=b.x;var c=b.y;b.x=Proj4js.common.adjust_lon(this.long0+((a-this.x0)/(this.a*this.rc)));b.y=Proj4js.common.adjust_lat(this.lat0+((c-this.y0)/(this.a)));return b}};Proj4js.Proj.cass={init:function(){if(!this.sphere){this.en=Proj4js.common.pj_enfn(this.es);this.m0=Proj4js.common.pj_mlfn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en)}},C1:0.16666666666666666,C2:0.008333333333333333,C3:0.041666666666666664,C4:0.3333333333333333,C5:0.06666666666666667,forward:function(d){var a,e;var b=d.x;var c=d.y;b=Proj4js.common.adjust_lon(b-this.long0);if(this.sphere){a=Math.asin(Math.cos(c)*Math.sin(b));e=Math.atan2(Math.tan(c),Math.cos(b))-this.phi0}else{this.n=Math.sin(c);this.c=Math.cos(c);e=Proj4js.common.pj_mlfn(c,this.n,this.c,this.en);this.n=1/Math.sqrt(1-this.es*this.n*this.n);this.tn=Math.tan(c);this.t=this.tn*this.tn;this.a1=b*this.c;this.c*=this.es*this.c/(1-this.es);this.a2=this.a1*this.a1;a=this.n*this.a1*(1-this.a2*this.t*(this.C1-(8-this.t+8*this.c)*this.a2*this.C2));e-=this.m0-this.n*this.tn*this.a2*(0.5+(5-this.t+6*this.c)*this.a2*this.C3)}d.x=this.a*a+this.x0;d.y=this.a*e+this.y0;return d},inverse:function(e){e.x-=this.x0;e.y-=this.y0;var a=e.x/this.a;var f=e.y/this.a;var c,b;if(this.sphere){this.dd=f+this.lat0;c=Math.asin(Math.sin(this.dd)*Math.cos(a));b=Math.atan2(Math.tan(a),Math.cos(this.dd))}else{var d=Proj4js.common.pj_inv_mlfn(this.m0+f,this.es,this.en);this.tn=Math.tan(d);this.t=this.tn*this.tn;this.n=Math.sin(d);this.r=1/(1-this.es*this.n*this.n);this.n=Math.sqrt(this.r);this.r*=(1-this.es)*this.n;this.dd=a/this.n;this.d2=this.dd*this.dd;c=d-(this.n*this.tn/this.r)*this.d2*(0.5-(1+3*this.t)*this.d2*this.C3);b=this.dd*(1+this.t*this.d2*(-this.C4+(1+3*this.t)*this.d2*this.C5))/Math.cos(d)}e.x=Proj4js.common.adjust_lon(this.long0+b);e.y=c;return e}};Proj4js.Proj.gauss={init:function(){var a=Math.sin(this.lat0);var b=Math.cos(this.lat0);b*=b;this.rc=Math.sqrt(1-this.es)/(1-this.es*a*a);this.C=Math.sqrt(1+this.es*b*b/(1-this.es));this.phic0=Math.asin(a/this.C);this.ratexp=0.5*this.C*this.e;this.K=Math.tan(0.5*this.phic0+Proj4js.common.FORTPI)/(Math.pow(Math.tan(0.5*this.lat0+Proj4js.common.FORTPI),this.C)*Proj4js.common.srat(this.e*a,this.ratexp))},forward:function(b){var c=b.x;var a=b.y;b.y=2*Math.atan(this.K*Math.pow(Math.tan(0.5*a+Proj4js.common.FORTPI),this.C)*Proj4js.common.srat(this.e*Math.sin(a),this.ratexp))-Proj4js.common.HALF_PI;b.x=this.C*c;return b},inverse:function(e){var d=1e-14;var f=e.x/this.C;var c=e.y;var a=Math.pow(Math.tan(0.5*c+Proj4js.common.FORTPI)/this.K,1/this.C);for(var b=Proj4js.common.MAX_ITER;b>0;--b){c=2*Math.atan(a*Proj4js.common.srat(this.e*Math.sin(e.y),-0.5*this.e))-Proj4js.common.HALF_PI;if(Math.abs(c-e.y)<d){break}e.y=c}if(!b){Proj4js.reportError("gauss:inverse:convergence failed");return null}e.x=f;e.y=c;return e}};Proj4js.Proj.omerc={init:function(){if(!this.mode){this.mode=0}if(!this.lon1){this.lon1=0;this.mode=1}if(!this.lon2){this.lon2=0}if(!this.lat2){this.lat2=0}var a=this.b/this.a;var c=1-Math.pow(a,2);var b=Math.sqrt(c);this.sin_p20=Math.sin(this.lat0);this.cos_p20=Math.cos(this.lat0);this.con=1-this.es*this.sin_p20*this.sin_p20;this.com=Math.sqrt(1-c);this.bl=Math.sqrt(1+this.es*Math.pow(this.cos_p20,4)/(1-c));this.al=this.a*this.bl*this.k0*this.com/this.con;if(Math.abs(this.lat0)<Proj4js.common.EPSLN){this.ts=1;this.d=1;this.el=1}else{this.ts=Proj4js.common.tsfnz(this.e,this.lat0,this.sin_p20);this.con=Math.sqrt(this.con);this.d=this.bl*this.com/(this.cos_p20*this.con);if((this.d*this.d-1)>0){if(this.lat0>=0){this.f=this.d+Math.sqrt(this.d*this.d-1)}else{this.f=this.d-Math.sqrt(this.d*this.d-1)}}else{this.f=this.d}this.el=this.f*Math.pow(this.ts,this.bl)}if(this.mode!=0){this.g=0.5*(this.f-1/this.f);this.gama=Proj4js.common.asinz(Math.sin(this.alpha)/this.d);this.longc=this.longc-Proj4js.common.asinz(this.g*Math.tan(this.gama))/this.bl;this.con=Math.abs(this.lat0);if((this.con>Proj4js.common.EPSLN)&&(Math.abs(this.con-Proj4js.common.HALF_PI)>Proj4js.common.EPSLN)){this.singam=Math.sin(this.gama);this.cosgam=Math.cos(this.gama);this.sinaz=Math.sin(this.alpha);this.cosaz=Math.cos(this.alpha);if(this.lat0>=0){this.u=(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)}else{this.u=-(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)}}else{Proj4js.reportError("omerc:Init:DataError")}}else{this.sinphi=Math.sin(this.at1);this.ts1=Proj4js.common.tsfnz(this.e,this.lat1,this.sinphi);this.sinphi=Math.sin(this.lat2);this.ts2=Proj4js.common.tsfnz(this.e,this.lat2,this.sinphi);this.h=Math.pow(this.ts1,this.bl);this.l=Math.pow(this.ts2,this.bl);this.f=this.el/this.h;this.g=0.5*(this.f-1/this.f);this.j=(this.el*this.el-this.l*this.h)/(this.el*this.el+this.l*this.h);this.p=(this.l-this.h)/(this.l+this.h);this.dlon=this.lon1-this.lon2;if(this.dlon<-Proj4js.common.PI){this.lon2=this.lon2-2*Proj4js.common.PI}if(this.dlon>Proj4js.common.PI){this.lon2=this.lon2+2*Proj4js.common.PI}this.dlon=this.lon1-this.lon2;this.longc=0.5*(this.lon1+this.lon2)-Math.atan(this.j*Math.tan(0.5*this.bl*this.dlon)/this.p)/this.bl;this.dlon=Proj4js.common.adjust_lon(this.lon1-this.longc);this.gama=Math.atan(Math.sin(this.bl*this.dlon)/this.g);this.alpha=Proj4js.common.asinz(this.d*Math.sin(this.gama));if(Math.abs(this.lat1-this.lat2)<=Proj4js.common.EPSLN){Proj4js.reportError("omercInitDataError")}else{this.con=Math.abs(this.lat1)}if((this.con<=Proj4js.common.EPSLN)||(Math.abs(this.con-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN)){Proj4js.reportError("omercInitDataError")}else{if(Math.abs(Math.abs(this.lat0)-Proj4js.common.HALF_PI)<=Proj4js.common.EPSLN){Proj4js.reportError("omercInitDataError")}}this.singam=Math.sin(this.gam);this.cosgam=Math.cos(this.gam);this.sinaz=Math.sin(this.alpha);this.cosaz=Math.cos(this.alpha);if(this.lat0>=0){this.u=(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)}else{this.u=-(this.al/this.bl)*Math.atan(Math.sqrt(this.d*this.d-1)/this.cosaz)}}},forward:function(w){var j;var e,F;var E;var D,o,d;var g,z,B;var v,k,C;var r,A;var u;var a;var h;var f=w.x;var i=w.y;e=Math.sin(i);a=Proj4js.common.adjust_lon(f-this.longc);C=Math.sin(this.bl*a);if(Math.abs(Math.abs(i)-Proj4js.common.HALF_PI)>Proj4js.common.EPSLN){h=Proj4js.common.tsfnz(this.e,i,e);v=this.el/(Math.pow(h,this.bl));u=0.5*(v-1/v);o=0.5*(v+1/v);r=(u*this.singam-C*this.cosgam)/o;g=Math.cos(this.bl*a);if(Math.abs(g)<1e-7){k=this.al*this.bl*a}else{k=this.al*Math.atan((u*this.cosgam+C*this.singam)/g)/this.bl;if(g<0){k=k+Proj4js.common.PI*this.al/this.bl}}}else{if(i>=0){r=this.singam}else{r=-this.singam}k=this.al*i/this.bl}if(Math.abs(Math.abs(r)-1)<=Proj4js.common.EPSLN){Proj4js.reportError("omercFwdInfinity")}A=0.5*this.al*Math.log((1-r)/(1+r))/this.bl;k=k-this.u;var m=this.x0+A*this.cosaz+k*this.sinaz;var l=this.y0+k*this.cosaz-A*this.sinaz;w.x=m;w.y=l;return w},inverse:function(u){var E;var j;var e;var d,D;var C;var A,m,a;var g,v,y;var w,k,r,o,h;var z,l,B;var f,i;var x;u.x-=this.x0;u.y-=this.y0;x=0;w=u.x*this.cosaz-u.y*this.sinaz;k=u.y*this.cosaz+u.x*this.sinaz;k=k+this.u;r=Math.exp(-this.bl*w/this.al);o=0.5*(r-1/r);m=0.5*(r+1/r);z=Math.sin(this.bl*k/this.al);l=(z*this.cosgam+o*this.singam)/m;if(Math.abs(Math.abs(l)-1)<=Proj4js.common.EPSLN){f=this.longc;if(l>=0){i=Proj4js.common.HALF_PI}else{i=-Proj4js.common.HALF_PI}}else{g=1/this.bl;h=Math.pow((this.el/Math.sqrt((1+l)/(1-l))),g);i=Proj4js.common.phi2z(this.e,h);j=this.longc-Math.atan2((o*this.cosgam-z*this.singam),g)/this.bl;f=Proj4js.common.adjust_lon(j)}u.x=f;u.y=i;return u}};Proj4js.Proj.lcc={init:function(){if(!this.lat2){this.lat2=this.lat0}if(!this.k0){this.k0=1}if(Math.abs(this.lat1+this.lat2)<Proj4js.common.EPSLN){Proj4js.reportError("lcc:init: Equal Latitudes");return}var j=this.b/this.a;this.e=Math.sqrt(1-j*j);var g=Math.sin(this.lat1);var e=Math.cos(this.lat1);var i=Proj4js.common.msfnz(this.e,g,e);var b=Proj4js.common.tsfnz(this.e,this.lat1,g);var f=Math.sin(this.lat2);var d=Math.cos(this.lat2);var h=Proj4js.common.msfnz(this.e,f,d);var a=Proj4js.common.tsfnz(this.e,this.lat2,f);var c=Proj4js.common.tsfnz(this.e,this.lat0,Math.sin(this.lat0));if(Math.abs(this.lat1-this.lat2)>Proj4js.common.EPSLN){this.ns=Math.log(i/h)/Math.log(b/a)}else{this.ns=g}this.f0=i/(this.ns*Math.pow(b,this.ns));this.rh=this.a*this.f0*Math.pow(c,this.ns);if(!this.title){this.title="Lambert Conformal Conic"}},forward:function(e){var f=e.x;var d=e.y;if(d<=90&&d>=-90&&f<=180&&f>=-180){}else{Proj4js.reportError("lcc:forward: llInputOutOfRange: "+f+" : "+d);return null}var a=Math.abs(Math.abs(d)-Proj4js.common.HALF_PI);var c,g;if(a>Proj4js.common.EPSLN){c=Proj4js.common.tsfnz(this.e,d,Math.sin(d));g=this.a*this.f0*Math.pow(c,this.ns)}else{a=d*this.ns;if(a<=0){Proj4js.reportError("lcc:forward: No Projection");return null}g=0}var b=this.ns*Proj4js.common.adjust_lon(f-this.long0);e.x=this.k0*(g*Math.sin(b))+this.x0;e.y=this.k0*(this.rh-g*Math.cos(b))+this.y0;return e},inverse:function(b){var e,c,f;var g,a;var i=(b.x-this.x0)/this.k0;var h=(this.rh-(b.y-this.y0)/this.k0);if(this.ns>0){e=Math.sqrt(i*i+h*h);c=1}else{e=-Math.sqrt(i*i+h*h);c=-1}var d=0;if(e!=0){d=Math.atan2((c*i),(c*h))}if((e!=0)||(this.ns>0)){c=1/this.ns;f=Math.pow((e/(this.a*this.f0)),c);g=Proj4js.common.phi2z(this.e,f);if(g==-9999){return null}}else{g=-Proj4js.common.HALF_PI}a=Proj4js.common.adjust_lon(d/this.ns+this.long0);b.x=a;b.y=g;return b}};Proj4js.Proj.laea={S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4,init:function(){var a=Math.abs(this.lat0);if(Math.abs(a-Proj4js.common.HALF_PI)<Proj4js.common.EPSLN){this.mode=this.lat0<0?this.S_POLE:this.N_POLE}else{if(Math.abs(a)<Proj4js.common.EPSLN){this.mode=this.EQUIT}else{this.mode=this.OBLIQ}}if(this.es>0){var b;this.qp=Proj4js.common.qsfnz(this.e,1);this.mmf=0.5/(1-this.es);this.apa=this.authset(this.es);switch(this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(0.5*this.qp);this.dd=1/this.rq;this.xmf=1;this.ymf=0.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(0.5*this.qp);b=Math.sin(this.lat0);this.sinb1=Proj4js.common.qsfnz(this.e,b)/this.qp;this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1);this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*b*b)*this.rq*this.cosb1);this.ymf=(this.xmf=this.rq)/this.dd;this.xmf*=this.dd;break}}else{if(this.mode==this.OBLIQ){this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0)}}},forward:function(e){var m,k;var n=e.x;var i=e.y;n=Proj4js.common.adjust_lon(n-this.long0);if(this.sphere){var l,g,c;c=Math.sin(i);g=Math.cos(i);l=Math.cos(n);switch(this.mode){case this.OBLIQ:case this.EQUIT:k=(this.mode==this.EQUIT)?1+g*l:1+this.sinph0*c+this.cosph0*g*l;if(k<=Proj4js.common.EPSLN){Proj4js.reportError("laea:fwd:y less than eps");return null}k=Math.sqrt(2/k);m=k*g*Math.sin(n);k*=(this.mode==this.EQUIT)?c:this.cosph0*c-this.sinph0*g*l;break;case this.N_POLE:l=-l;case this.S_POLE:if(Math.abs(i+this.phi0)<Proj4js.common.EPSLN){Proj4js.reportError("laea:fwd:phi < eps");return null}k=Proj4js.common.FORTPI-i*0.5;k=2*((this.mode==this.S_POLE)?Math.cos(k):Math.sin(k));m=k*Math.sin(n);k*=l;break}}else{var l,h,c,d,f=0,a=0,j=0;l=Math.cos(n);h=Math.sin(n);c=Math.sin(i);d=Proj4js.common.qsfnz(this.e,c);if(this.mode==this.OBLIQ||this.mode==this.EQUIT){f=d/this.qp;a=Math.sqrt(1-f*f)}switch(this.mode){case this.OBLIQ:j=1+this.sinb1*f+this.cosb1*a*l;break;case this.EQUIT:j=1+a*l;break;case this.N_POLE:j=Proj4js.common.HALF_PI+i;d=this.qp-d;break;case this.S_POLE:j=i-Proj4js.common.HALF_PI;d=this.qp+d;break}if(Math.abs(j)<Proj4js.common.EPSLN){Proj4js.reportError("laea:fwd:b < eps");return null}switch(this.mode){case this.OBLIQ:case this.EQUIT:j=Math.sqrt(2/j);if(this.mode==this.OBLIQ){k=this.ymf*j*(this.cosb1*f-this.sinb1*a*l)}else{k=(j=Math.sqrt(2/(1+a*l)))*f*this.ymf}m=this.xmf*j*a*h;break;case this.N_POLE:case this.S_POLE:if(d>=0){m=(j=Math.sqrt(d))*h;k=l*((this.mode==this.S_POLE)?j:-j)}else{m=k=0}break}}e.x=this.a*m+this.x0;e.y=this.a*k+this.y0;return e},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var h=b.x/this.a;var f=b.y/this.a;var l,e;if(this.sphere){var m=0,j,c=0;j=Math.sqrt(h*h+f*f);e=j*0.5;if(e>1){Proj4js.reportError("laea:Inv:DataError");return null}e=2*Math.asin(e);if(this.mode==this.OBLIQ||this.mode==this.EQUIT){c=Math.sin(e);m=Math.cos(e)}switch(this.mode){case this.EQUIT:e=(Math.abs(j)<=Proj4js.common.EPSLN)?0:Math.asin(f*c/j);h*=c;f=m*j;break;case this.OBLIQ:e=(Math.abs(j)<=Proj4js.common.EPSLN)?this.phi0:Math.asin(m*this.sinph0+f*c*this.cosph0/j);h*=c*this.cosph0;f=(m-Math.sin(e)*this.sinph0)*j;break;case this.N_POLE:f=-f;e=Proj4js.common.HALF_PI-e;break;case this.S_POLE:e-=Proj4js.common.HALF_PI;break}l=(f==0&&(this.mode==this.EQUIT||this.mode==this.OBLIQ))?0:Math.atan2(h,f)}else{var i,d,a,g,k=0;switch(this.mode){case this.EQUIT:case this.OBLIQ:h/=this.dd;f*=this.dd;g=Math.sqrt(h*h+f*f);if(g<Proj4js.common.EPSLN){b.x=0;b.y=this.phi0;return b}d=2*Math.asin(0.5*g/this.rq);i=Math.cos(d);h*=(d=Math.sin(d));if(this.mode==this.OBLIQ){k=i*this.sinb1+f*d*this.cosb1/g;a=this.qp*k;f=g*this.cosb1*i-f*this.sinb1*d}else{k=f*d/g;a=this.qp*k;f=g*i}break;case this.N_POLE:f=-f;case this.S_POLE:a=(h*h+f*f);if(!a){b.x=0;b.y=this.phi0;return b}k=1-a/this.qp;if(this.mode==this.S_POLE){k=-k}break}l=Math.atan2(h,f);e=this.authlat(Math.asin(k),this.apa)}b.x=Proj4js.common.adjust_lon(this.long0+l);b.y=e;return b},P00:0.3333333333333333,P01:0.17222222222222222,P02:0.10257936507936508,P10:0.06388888888888888,P11:0.0664021164021164,P20:0.016415012942191543,authset:function(b){var a;var c=new Array();c[0]=b*this.P00;a=b*b;c[0]+=a*this.P01;c[1]=a*this.P10;a*=b;c[0]+=a*this.P02;c[1]+=a*this.P11;c[2]=a*this.P20;return c},authlat:function(b,c){var a=b+b;return(b+c[0]*Math.sin(a)+c[1]*Math.sin(a+a)+c[2]*Math.sin(a+a+a))}};Proj4js.Proj.aeqd={init:function(){this.sin_p12=Math.sin(this.lat0);this.cos_p12=Math.cos(this.lat0)},forward:function(c){var b=c.x;var i=c.y;var e;var a=Math.sin(c.y);var d=Math.cos(c.y);var k=Proj4js.common.adjust_lon(b-this.long0);var j=Math.cos(k);var f=this.sin_p12*a+this.cos_p12*d*j;if(Math.abs(Math.abs(f)-1)<Proj4js.common.EPSLN){e=1;if(f<0){Proj4js.reportError("aeqd:Fwd:PointError");return}}else{var h=Math.acos(f);e=h/Math.sin(h)}c.x=this.x0+this.a*e*d*Math.sin(k);c.y=this.y0+this.a*e*(this.cos_p12*a-this.sin_p12*d*j);return c},inverse:function(b){b.x-=this.x0;b.y-=this.y0;var g=Math.sqrt(b.x*b.x+b.y*b.y);if(g>(2*Proj4js.common.HALF_PI*this.a)){Proj4js.reportError("aeqdInvDataError");return}var e=g/this.a;var d=Math.sin(e);var i=Math.cos(e);var a=this.long0;var f;if(Math.abs(g)<=Proj4js.common.EPSLN){f=this.lat0}else{f=Proj4js.common.asinz(i*this.sin_p12+(b.y*d*this.cos_p12)/g);var c=Math.abs(this.lat0)-Proj4js.common.HALF_PI;if(Math.abs(c)<=Proj4js.common.EPSLN){if(this.lat0>=0){a=Proj4js.common.adjust_lon(this.long0+Math.atan2(b.x,-b.y))}else{a=Proj4js.common.adjust_lon(this.long0-Math.atan2(-b.x,b.y))}}else{c=i-this.sin_p12*Math.sin(f);if((Math.abs(c)<Proj4js.common.EPSLN)&&(Math.abs(b.x)<Proj4js.common.EPSLN)){}else{var h=Math.atan2((b.x*d*this.cos_p12),(c*g));a=Proj4js.common.adjust_lon(this.long0+Math.atan2((b.x*d*this.cos_p12),(c*g)))}}}b.x=a;b.y=f;return b}};Proj4js.Proj.moll={init:function(){},forward:function(c){var a=c.x;var h=c.y;var f=Proj4js.common.adjust_lon(a-this.long0);var e=h;var d=Proj4js.common.PI*Math.sin(h);for(var g=0;true;g++){var b=-(e+Math.sin(e)-d)/(1+Math.cos(e));e+=b;if(Math.abs(b)<Proj4js.common.EPSLN){break}if(g>=50){Proj4js.reportError("moll:Fwd:IterationError")}}e/=2;if(Proj4js.common.PI/2-Math.abs(h)<Proj4js.common.EPSLN){f=0}var k=0.900316316158*this.a*f*Math.cos(e)+this.x0;var j=1.4142135623731*this.a*Math.sin(e)+this.y0;c.x=k;c.y=j;return c},inverse:function(d){var b;var a;d.x-=this.x0;var a=d.y/(1.4142135623731*this.a);if(Math.abs(a)>0.999999999999){a=0.999999999999}var b=Math.asin(a);var e=Proj4js.common.adjust_lon(this.long0+(d.x/(0.900316316158*this.a*Math.cos(b))));if(e<(-Proj4js.common.PI)){e=-Proj4js.common.PI}if(e>Proj4js.common.PI){e=Proj4js.common.PI}a=(2*b+Math.sin(2*b))/Proj4js.common.PI;if(Math.abs(a)>1){a=1}var c=Math.asin(a);d.x=e;d.y=c;return d}};