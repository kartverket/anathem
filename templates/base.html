<%doc>
description: The base HTML page for norgeskart.no and geoportal clients.
params: 
  manifestName: a browser cache manifest (optional)
  title: The title displayed by the website
  mapscript: (TEMPLATE) the javascript code executed by the website
  mapClass: a css class tag for the main map <div>
  includeXDM: whether xdm messaging code should be included (optional)
  splashscreen: (TEMPLATE) include code for a splashscreen (optional, deprecated)
  finalscripts: (TEMPLATE) include code executed at the end of the page load. (optional) 
</%doc>
<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en" style="height:100%"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en" style="height:100%"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en" style="height:100%"> <![endif]-->
<!--[if IE 9]>    <html class="no-js lt-ie10" lang="en" style="height:100%"> <![endif]-->
% if manifestName:
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" style="height:100%" manifest="${manifestName}.manifest"> <!--<![endif]-->
% else:
<!--[if gt IE 9]><!--> <html class="no-js" lang="en" style="height:100%"> <!--<![endif]-->
% endif

  <head>
    <!-- by kartverket / Thomas Hirsch 2012 - public domain -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>${title}</title>
    <meta name="description" content="" />
    <meta name="google" content="notranslate" />
    <meta name="viewport" content="width=device-width, user-scalable=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" /> 
    <meta name="apple-touch-fullscreen" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="#333333" />
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico" />

    <link rel="stylesheet" type="text/css" href="theme/default/style.css" />
    <!--[if IE]>
    <link rel="stylesheet" type="text/css" href="theme/norgeskart/no-svg.css" />
    <![endif]-->
    <link rel="stylesheet" media="print" type="text/css" href="theme/norgeskart/print.css" />
  </head>
  <body style="height: 100%; overflow: hidden;">
    <!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
    <header>
    </header>
% if mapClass:
    <div id="map" role="main" class="${mapClass}" style="width:100%; height:100%"></div>
% else:
    <div id="map" role="main" style="width:100%; height:100%"></div>
% endif
    <footer>
    </footer>
    <script src="js/modernizr.min.js"></script>
    <script src="js/proj4js.min.js"></script>
    <script src="js/openlayers.min.js"></script>
    <script src="js/underscore-min.js"></script>
    <script src="js/SOSI.js.min.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/jquery.storageapi.min.js"></script>
    <script src="js/jquery.caret.js"></script>
    <!--[if IE]>
    <script src="js/xdr.js"></script>
    <![endif]-->
    <script src="js/plugins.min.js"></script>

% if includeXDM:
    <%include file="/easyXDM.html" />
% endif

    <script>
      ${mapscript}
      // end mapscript
    </script>
    <!--[if lt IE 9]>
        <script>
            $(window).on('resize', function(evt) {
                var win = $(window);
                var body = $('body');
                var h = parseInt(win.innerHeight(), 10);
                var w = parseInt(win.innerWidth(), 10);
                if (h >= 850) { body.removeClass('sub850h'); }
                if (h >= 750) { body.removeClass('sub750h'); }
                if (h >= 650) { body.removeClass('sub650h'); }
                if (h < 850) { body.addClass('sub850h'); }
                if (h < 750) { body.addClass('sub750h'); }
                if (h < 650) { body.addClass('sub650h'); }
                if (w >= 550) { body.removeClass('sub550w'); }
                if (w < 550) { body.addClass('sub550w'); }
            });

        </script>
    <![endif]-->
% if splashscreen:
    ${splashscreen}
% endif
% if finalscripts:
    ${finalscripts}
% endif
  </body>
</html>
